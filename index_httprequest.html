<!DOCTYPE html>
<html>
	<head>
		<title>HTTP Request</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	</head>
	<body ng-app="httpRequest">
		<div ng-controller="mainController">
			<div class="container">
				<h1>Promises, HTTP and Resources</h1>
			
				<input type="number" ng-model="model.number" class="form-control"/>
				<input type="button" class="btn btn-primary" value="Check Odd number" ng-click="checkOddNumber(model.number)"/>
				<pre> {{model.result}} </pre>
				
				<input type="text" ng-model="model.repokeyword" class="form-control"/>
				<div><input type="button" class="btn btn-primary" value="Load Repos" ng-click="getRepos(model.repokeyword)" /></div>
				
				<div class="col-md-6">
					<table class="table table-striped" ng-show="model.repos">
						<tr>
							<th>Name</th>
							<th>Language</th>
							<th></th>
						</tr>
						<tr ng-repeat="r in model.repos">
							<td>
								<h4>{{r.name}}</h4> {{r.description}}
							</td>
							<td>{{r.language}}</td>
							<td><input type="button" class="btn btn-success" ng-click="loadDetail(model.repokeyword,r.name)" value="Detail"></td>
						</tr>
					</table>
				</div>				
				<div class="col-md-6" ng-show="model.detail">
						<h3>Detail</h3>
						<div ng-show="model.detail.error" class="alert alert-danger"><h3>Error</h3> {{model.detail.message}}</div>

						<div>
							<h4>Name</h4>
							{{model.detail.name}}
						</div>
						
						<div>
							<h4>Description</h4>
							{{model.detail.description}}
						</div>
						
						<div>
							<h4>URL</h4>
							<a ng-href="{{model.detail.html_url}}" target="_blank">{{model.detail.html_url}}</a>
						</div>
						
						<h4>Raw Data</h4>
						<pre>{{model.detail | json}}</pre>
				</div>
			</div>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular-resource.min.js"></script>
		<script src="./app/httpapp.js"></script>
		<script src="./app/httpController.js"></script>
		<script src="./app/gitHubService.js"></script>
	</body>
</html>